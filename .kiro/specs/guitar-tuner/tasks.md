# 実装計画

- [x] 1. プロジェクト基盤の設定





  - Vite + TypeScript プロジェクトの初期化
  - 基本的なHTML構造とCSS設定の作成
  - 型定義ファイルの作成（NoteData, GUITAR_TUNING等）
  - _要件: 1.1, 4.1, 4.2_

- [x] 2. AudioManager クラスの実装





  - マイクアクセス許可の取得機能を実装
  - Web Audio API の AudioContext とマイク入力の設定
  - 音声データをFloat32Arrayで取得する機能を実装
  - エラーハンドリング（マイクアクセス拒否、未対応ブラウザ等）を追加
  - _要件: 1.1, 1.2, 1.3_

- [x] 3. PitchDetector クラスの実装




- [x] 3.1 基本的な自己相関アルゴリズムを実装


  - 音声バッファの自己相関計算機能を作成
  - 基本的な周波数検出ロジックを実装
  - 単体テストを作成して既知の周波数で検証
  - _要件: 1.4, 5.1_

- [x] 3.2 音程検出の精度向上


  - ギター音域（82Hz-330Hz）のフィルタリングを実装
  - ノイズ耐性の向上（信頼度計算の追加）
  - 低周波数検出の最適化
  - _要件: 5.1, 5.2, 5.3_

- [x] 4. TunerEngine クラスの実装





- [x] 4.1 ギターチューニングロジックを実装


  - GUITAR_TUNING定数の定義
  - 最も近いギター音程を特定する機能
  - セント単位での音程差計算機能
  - _要件: 2.1, 2.2, 2.3_

- [x] 4.2 チューニング判定機能を実装


  - ±5セント以内での「正確」判定ロジック
  - NoteDataオブジェクトの生成機能
  - 音程分析の統合テストを作成
  - _要件: 2.4_

- [x] 5. UIController クラスの実装





- [x] 5.1 基本的なUI表示機能を実装

  - 検出された音程名の表示機能
  - チューニング状態（高い/低い/正確）の表示
  - ステータスメッセージの表示機能
  - _要件: 1.4, 2.3, 5.4_

- [x] 5.2 視覚的チューニングメーターを実装


  - 針式またはバー式のメーター表示
  - セント値に基づく視覚的フィードバック
  - 正確時の緑色表示機能
  - _要件: 3.1, 3.2, 3.3, 3.4_

- [x] 6. レスポンシブデザインの実装




- [x] 6.1 モバイル対応のレイアウトを作成


  - CSS Grid/Flexboxを使用したレスポンシブレイアウト
  - スマートフォン向けのタッチ操作対応
  - 縦向き・横向き対応
  - _要件: 4.1, 4.2, 4.3, 4.4_

- [x] 6.2 デスクトップ向けレイアウトの最適化


  - PC画面サイズでの適切な表示
  - マウス操作に適したUI要素の配置
  - 画面サイズ変更時の自動調整機能
  - _要件: 4.1, 4.3_

- [x] 7. リアルタイム処理の統合




- [x] 7.1 音声処理パイプラインの構築


  - AudioManager → PitchDetector → TunerEngine → UIController の連携
  - リアルタイム音程検出ループの実装
  - 60FPS以下での処理制限の実装
  - _要件: 1.3, 1.4_

- [x] 7.2 パフォーマンス最適化


  - 不要なDOM更新の削減
  - Page Visibility API による非アクティブ時の処理停止
  - メモリリークの防止（イベントリスナーの適切な削除）
  - _要件: 全般的なパフォーマンス要件_

- [x] 8. エラーハンドリングとユーザビリティの向上




- [x] 8.1 包括的なエラーハンドリングを実装


  - マイクアクセスエラーの適切な表示
  - Web Audio API 未対応ブラウザへの対応
  - 音量不足時の「音が小さすぎます」メッセージ
  - _要件: 5.3, 5.4_

- [x] 8.2 ユーザーフィードバックの改善


  - 音程検出待機状態の表示
  - チューニング完了時の視覚的フィードバック
  - 使用方法の簡単な説明表示
  - _要件: 5.4, 3.4_

- [x] 9. テストとデバッグ




- [x] 9.1 単体テストの実装


  - PitchDetector の周波数検出精度テスト
  - TunerEngine のセント計算テスト
  - 各クラスの境界値テスト
  - _要件: 全要件の検証_

- [x] 9.2 統合テストと実機テスト


  - 実際のギターを使用した各弦での動作確認
  - 異なるブラウザでの互換性テスト
  - モバイルデバイスでの動作確認
  - _要件: 全要件の統合検証_

- [ ] 10. 最終調整とデプロイ準備
  - ビルド設定の最適化
  - HTTPS対応の確認
  - Content Security Policy の設定
  - 本番環境向けの最終テスト
  - _要件: セキュリティとデプロイ要件_